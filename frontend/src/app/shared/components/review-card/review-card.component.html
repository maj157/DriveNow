<div class="review-card">
  <div class="review-header">
    <div class="user-info">
      <div class="avatar">
        <span>{{ review.user?.name?.charAt(0) || '?' }}</span>
      </div>
      <div class="user-details">
        <h3 class="user-name">{{ review.user?.name || 'Anonymous' }}</h3>
        <span class="review-date">{{ review.createdAt ? formatDate(review.createdAt) : 'Unknown date' }}</span>
      </div>
    </div>
    
    <div class="rating">
      <span class="star" *ngFor="let star of getStarsArray(review.rating)">
        <i [class]="star === 1 ? 'filled' : 'empty'">â˜…</i>
      </span>
    </div>
  </div>
  
  <div class="review-content">
    <p>{{ review.comment }}</p>
  </div>
  
  <div class="review-car" *ngIf="review.carId">
    <a [routerLink]="['/cars', review.carId]">View Vehicle</a>
  </div>
  
  <div class="review-actions" *ngIf="canEdit">
    <button class="delete-btn" (click)="onDelete()">Delete Review</button>
  </div>
  
  <!-- Add moderation status badge -->
  <div class="moderation-status" *ngIf="showModeration">
    <span [class]="getModerationStatusClass()">
      {{ review.status | titlecase }}
    </span>
    <p class="moderation-comment" *ngIf="review.moderationComment">
      Moderator comment: {{ review.moderationComment }}
    </p>
  </div>
</div>
